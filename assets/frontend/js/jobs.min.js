"object"!=typeof wp.JB&&(wp.JB={}),"object"!=typeof wp.JB.jobs_list&&(wp.JB.jobs_list={}),wp.JB.jobs_list={is_search:!1,objects:{wrapper:jQuery(".jb-jobs")},is_busy:function(){return wp.JB.jobs_list.objects.wrapper.hasClass("jb-busy")},preloader:{show:function(){wp.JB.jobs_list.objects.wrapper.addClass("jb-busy").find(".jb-overlay").show()},hide:function(){wp.JB.jobs_list.objects.wrapper.removeClass("jb-busy").find(".jb-overlay").hide()}},url:{set:function(s,e){var t=wp.JB.jobs_list.url.get(),r={};jQuery.isArray(e)?(jQuery.each(e,function(o){e[o]=encodeURIComponent(e[o])}),e=e.join("||")):jQuery.isNumeric(e)||(e=e.split("||"),jQuery.each(e,function(o){e[o]=encodeURIComponent(e[o])}),e=e.join("||")),""!==e&&(r[s]=e),jQuery.each(t,function(o){s===o?""!==e&&(r[o]=e):r[o]=t[o]});var a=[];jQuery.each(r,function(o){a.push(o+"="+r[o])});var o="?"+(a=wp.hooks.applyFilters("jb_job_dashboard_url_attrs",a)).join("&");"?"===o&&(o=""),window.history.pushState("string","JB Jobs Dashboard",window.location.origin+window.location.pathname+o)},get:function(o){var s={},e=wp.JB.jobs_list.url.parse();if(jQuery.each(e,function(o){""!==e[o]&&(s[o]=e[o])}),o){if(void 0!==s[o])try{s[o]=decodeURIComponent(s[o])}catch(o){console.error(o)}return s[o]}return s},parse:function(){var e={},t=window.location.search.substring(1).split("&");return jQuery.each(t,function(o){var s=t[o].split("=");e[s[0]]=s[1]}),e},get_page:function(){var o=wp.JB.jobs_list.objects.wrapper.data("page");return o&&void 0!==o||(o=1),o},get_search:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-search-line").length?wp.JB.jobs_list.objects.wrapper.find(".jb-search-line").val():""},get_location:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-search-location").length?wp.JB.jobs_list.objects.wrapper.find(".jb-search-location").val():""},get_type:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-only-remote").length?wp.JB.jobs_list.objects.wrapper.find(".jb-only-remote").is(":checked")?1:0:""}},ajax:function(e){var o={page:wp.JB.jobs_list.url.get_page(),search:wp.JB.jobs_list.url.get_search(),location:wp.JB.jobs_list.url.get_location(),remote_only:wp.JB.jobs_list.url.get_type(),nonce:jb_front_data.nonce};wp.JB.jobs_list.is_search=!!(o.search||o.location||o.remote_only),wp.JB.jobs_list.preloader.show(),wp.ajax.send("jb-get-jobs",{data:o,success:function(o){var s=wp.template("jb-jobs-list-line");e?wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").append(s(o.jobs)):wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").html(s(o.jobs)),wp.JB.jobs_list.objects.wrapper.data("total_pages",o.pagination.total_pages),0<o.pagination.total_pages?(wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").removeClass("jb-no-jobs"),o.pagination.total_pages==o.pagination.current_page?wp.JB.jobs_list.objects.wrapper.find(".jb-load-more-jobs").hide():wp.JB.jobs_list.objects.wrapper.find(".jb-load-more-jobs").show()):(e||(wp.JB.jobs_list.is_search?wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").html(wp.JB.jobs_list.objects.wrapper.data("no-jobs-search")):wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").html(wp.JB.jobs_list.objects.wrapper.data("no-jobs"))),wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").addClass("jb-no-jobs"),wp.JB.jobs_list.objects.wrapper.find(".jb-load-more-jobs").hide()),wp.hooks.doAction("jb_jobs_list_loaded",o),wp.JB.jobs_list.preloader.hide()},error:function(o){console.log(o),wp.JB.jobs_list.preloader.hide()}})}},jQuery(document).ready(function(s){wp.JB.jobs_list.objects.wrapper.length&&wp.JB.jobs_list.ajax(),s(document.body).on("click",".jb-do-search",function(){s(this).hasClass("disabled")||wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.ajax())}),s(document.body).on("click",".jb-load-more-jobs",function(){if(!s(this).hasClass("disabled")&&!wp.JB.jobs_list.is_busy()){wp.JB.jobs_list.preloader.show();var o=+wp.JB.jobs_list.objects.wrapper.data("page")+1;wp.JB.jobs_list.objects.wrapper.data("page",o),wp.JB.jobs_list.ajax(!0)}}),window.addEventListener("popstate",function(o){wp.JB.jobs_list.objects.wrapper.length&&wp.JB.jobs_list.ajax()})});