"object"!=typeof wp.JB&&(wp.JB={}),"object"!=typeof wp.JB.jobs_dashboard&&(wp.JB.jobs_dashboard={}),wp.JB.jobs_dashboard={objects:{wrapper:jQuery("#jb-job-dashboard")},is_busy:function(){return wp.JB.jobs_dashboard.objects.wrapper.hasClass("jb-busy")},preloader:{show:function(){wp.JB.jobs_dashboard.objects.wrapper.addClass("jb-busy").find(".jb-overlay").show()},hide:function(){wp.JB.jobs_dashboard.objects.wrapper.removeClass("jb-busy").find(".jb-overlay").hide()}},url:{set:function(a,e){var r=wp.JB.jobs_dashboard.url.get(),n={};jQuery.isArray(e)?(jQuery.each(e,function(o){e[o]=encodeURIComponent(e[o])}),e=e.join("||")):jQuery.isNumeric(e)||(e=e.split("||"),jQuery.each(e,function(o){e[o]=encodeURIComponent(e[o])}),e=e.join("||")),""!==e&&(n[a]=e),jQuery.each(r,function(o){a===o?""!==e&&(n[o]=e):n[o]=r[o]});var s=[];jQuery.each(n,function(o){s.push(o+"="+n[o])});var o="?"+(s=wp.hooks.applyFilters("jb_job_dashboard_url_attrs",s)).join("&");"?"===o&&(o=""),window.history.pushState("string","JB Jobs Dashboard",window.location.origin+window.location.pathname+o)},get:function(o){var a={},e=wp.JB.jobs_dashboard.url.parse();if(jQuery.each(e,function(o){""!==e[o]&&(a[o]=e[o])}),o){if(void 0!==a[o])try{a[o]=decodeURIComponent(a[o])}catch(o){console.error(o)}return a[o]}return a},parse:function(){var e={},r=window.location.search.substring(1).split("&");return jQuery.each(r,function(o){var a=r[o].split("=");e[a[0]]=a[1]}),e}},ajax:function(e){var o={nonce:jb_front_data.nonce};wp.JB.jobs_dashboard.preloader.show(),wp.ajax.send("jb-get-employer-jobs",{data:o,success:function(o){var a=wp.template("jb-jobs-dashboard-line");e?wp.JB.jobs_dashboard.objects.wrapper.find("#jb-job-dashboard-rows").append(a(o.jobs)):wp.JB.jobs_dashboard.objects.wrapper.find("#jb-job-dashboard-rows").html(a(o.jobs)),wp.hooks.doAction("jb_jobs_dashboard_loaded",o),wp.JB.jobs_dashboard.preloader.hide()},error:function(o){console.log(o),wp.JB.jobs_dashboard.preloader.hide()}})}},jQuery(document).ready(function(r){wp.JB.jobs_dashboard.objects.wrapper.length&&wp.JB.jobs_dashboard.ajax(),window.addEventListener("popstate",function(o){wp.JB.jobs_dashboard.objects.wrapper.length&&wp.JB.jobs_dashboard.ajax()}),r(document.body).on("click",".jb-jobs-action-fill",function(){var e=r(this).data("job-id"),o={job_id:e,nonce:jb_front_data.nonce};wp.ajax.send("jb-fill-job",{data:o,success:function(o){var a=wp.template("jb-jobs-dashboard-line");r('.jb-job-dashboard-row[data-job-id="'+e+'"]').replaceWith(a(o.jobs)),wp.hooks.doAction("jb_jobs_dashboard_job_filled",o)},error:function(o){console.log(o)}})}),r(document.body).on("click",".jb-jobs-action-un-fill",function(){var e=r(this).data("job-id"),o={job_id:e,nonce:jb_front_data.nonce};wp.ajax.send("jb-unfill-job",{data:o,success:function(o){var a=wp.template("jb-jobs-dashboard-line");r('.jb-job-dashboard-row[data-job-id="'+e+'"]').replaceWith(a(o.jobs)),wp.hooks.doAction("jb_jobs_dashboard_job_unfilled",o)},error:function(o){console.log(o)}})}),r(document.body).on("click",".jb-jobs-action-delete",function(){if(!confirm(wp.i18n.__("Are you sure that you want to delete this job?","jobboardwp")))return!1;var a=r(this).data("job-id"),o={job_id:a,nonce:jb_front_data.nonce};wp.ajax.send("jb-delete-job",{data:o,success:function(o){r('.jb-job-dashboard-row[data-job-id="'+a+'"]').remove(),wp.hooks.doAction("jb_jobs_dashboard_job_deleted",o,a)},error:function(o){console.log(o)}})})});